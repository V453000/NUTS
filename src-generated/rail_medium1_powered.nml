switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw1_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw1_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw1, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw1_both;
  rail_medium1_powered_draw1_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw2_both_end, position_in_consist_from_end){
  0: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw2_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw2_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw2_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw2, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw2_both;
  rail_medium1_powered_draw2_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw3_both_end, position_in_consist_from_end){
  0: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw3_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw3_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw3_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw3, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw3_both;
  rail_medium1_powered_draw3_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw4_both_end, position_in_consist_from_end){
  0..1: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw4_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw4_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw4_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw4, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw4_both;
  rail_medium1_powered_draw4_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw5_both_end, position_in_consist_from_end){
  0..1: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw5_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw5_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw5_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw5, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw5_both;
  rail_medium1_powered_draw5_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw6_both_end, position_in_consist_from_end){
  0..2: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw6_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw6_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw6_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw6, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw6_both;
  rail_medium1_powered_draw6_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw7_both_end, position_in_consist_from_end){
  0..2: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw7_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw7_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw7_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw7, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw7_both;
  rail_medium1_powered_draw7_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw8_both_end, position_in_consist_from_end){
  0..3: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw8_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw8_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw8_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw8, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw8_both;
  rail_medium1_powered_draw8_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw9_both_end, position_in_consist_from_end){
  0..3: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw9_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw9_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw9_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw9, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw9_both;
  rail_medium1_powered_draw9_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw10_both_end, position_in_consist_from_end){
  0..4: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw10_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw10_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw10_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw10, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw10_both;
  rail_medium1_powered_draw10_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw11_both_end, position_in_consist_from_end){
  0..4: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw11_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw11_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw11_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw11, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw11_both;
  rail_medium1_powered_draw11_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw12_both_end, position_in_consist_from_end){
  0..5: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw12_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw12_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw12_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw12, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw12_both;
  rail_medium1_powered_draw12_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw13_both_end, position_in_consist_from_end){
  0..5: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw13_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw13_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw13_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw13, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw13_both;
  rail_medium1_powered_draw13_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw14_both_end, position_in_consist_from_end){
  0..6: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw14_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw14_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw14_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw14, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw14_both;
  rail_medium1_powered_draw14_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw15_both_end, position_in_consist_from_end){
  0..6: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw15_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw15_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw15_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw15, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw15_both;
  rail_medium1_powered_draw15_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw16_both_end, position_in_consist_from_end){
  0..7: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw16_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw16_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw16_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw16, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw16_both;
  rail_medium1_powered_draw16_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw17_both_end, position_in_consist_from_end){
  0..7: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw17_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw17_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw17_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw17, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw17_both;
  rail_medium1_powered_draw17_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw18_both_end, position_in_consist_from_end){
  0..8: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw18_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw18_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw18_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw18, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw18_both;
  rail_medium1_powered_draw18_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw19_both_end, position_in_consist_from_end){
  0..8: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw19_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw19_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw19_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw19, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw19_both;
  rail_medium1_powered_draw19_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw20_both_end, position_in_consist_from_end){
  0..9: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw20_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw20_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw20_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw20, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw20_both;
  rail_medium1_powered_draw20_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw21_both_end, position_in_consist_from_end){
  0..9: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw21_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw21_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw21_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw21, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw21_both;
  rail_medium1_powered_draw21_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw22_both_end, position_in_consist_from_end){
  0..10: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw22_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw22_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw22_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw22, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw22_both;
  rail_medium1_powered_draw22_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw23_both_end, position_in_consist_from_end){
  0..10: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw23_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw23_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw23_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw23, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw23_both;
  rail_medium1_powered_draw23_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw24_both_end, position_in_consist_from_end){
  0..11: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw24_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw24_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw24_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw24, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw24_both;
  rail_medium1_powered_draw24_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw25_both_end, position_in_consist_from_end){
  0..11: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw25_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw25_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw25_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw25, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw25_both;
  rail_medium1_powered_draw25_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw26_both_end, position_in_consist_from_end){
  0..12: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw26_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw26_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw26_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw26, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw26_both;
  rail_medium1_powered_draw26_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw27_both_end, position_in_consist_from_end){
  0..12: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw27_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw27_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw27_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw27, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw27_both;
  rail_medium1_powered_draw27_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw28_both_end, position_in_consist_from_end){
  0..13: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw28_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw28_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw28_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw28, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw28_both;
  rail_medium1_powered_draw28_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw29_both_end, position_in_consist_from_end){
  0..13: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw29_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw29_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw29_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw29, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw29_both;
  rail_medium1_powered_draw29_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw30_both_end, position_in_consist_from_end){
  0..14: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw30_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw30_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw30_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw30, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw30_both;
  rail_medium1_powered_draw30_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw31_both_end, position_in_consist_from_end){
  0..14: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw31_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw31_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw31_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw31, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw31_both;
  rail_medium1_powered_draw31_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw32_both_end, position_in_consist_from_end){
  0..15: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw32_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw32_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw32_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw32, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw32_both;
  rail_medium1_powered_draw32_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw33_both_end, position_in_consist_from_end){
  0..15: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw33_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw33_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw33_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw33, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw33_both;
  rail_medium1_powered_draw33_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw34_both_end, position_in_consist_from_end){
  0..16: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw34_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw34_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw34_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw34, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw34_both;
  rail_medium1_powered_draw34_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw35_both_end, position_in_consist_from_end){
  0..16: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw35_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw35_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw35_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw35, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw35_both;
  rail_medium1_powered_draw35_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw36_both_end, position_in_consist_from_end){
  0..17: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw36_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw36_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw36_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw36, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw36_both;
  rail_medium1_powered_draw36_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw37_both_end, position_in_consist_from_end){
  0..17: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw37_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw37_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw37_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw37, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw37_both;
  rail_medium1_powered_draw37_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw38_both_end, position_in_consist_from_end){
  0..18: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw38_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw38_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw38_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw38, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw38_both;
  rail_medium1_powered_draw38_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw39_both_end, position_in_consist_from_end){
  0..18: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw39_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw39_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw39_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw39, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw39_both;
  rail_medium1_powered_draw39_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw40_both_end, position_in_consist_from_end){
  0..19: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw40_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw40_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw40_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw40, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw40_both;
  rail_medium1_powered_draw40_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw41_both_end, position_in_consist_from_end){
  0..19: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw41_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw41_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw41_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw41, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw41_both;
  rail_medium1_powered_draw41_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw42_both_end, position_in_consist_from_end){
  0..20: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw42_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw42_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw42_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw42, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw42_both;
  rail_medium1_powered_draw42_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw43_both_end, position_in_consist_from_end){
  0..20: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw43_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw43_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw43_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw43, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw43_both;
  rail_medium1_powered_draw43_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw44_both_end, position_in_consist_from_end){
  0..21: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw44_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw44_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw44_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw44, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw44_both;
  rail_medium1_powered_draw44_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw45_both_end, position_in_consist_from_end){
  0..21: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw45_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw45_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw45_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw45, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw45_both;
  rail_medium1_powered_draw45_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw46_both_end, position_in_consist_from_end){
  0..22: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw46_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw46_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw46_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw46, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw46_both;
  rail_medium1_powered_draw46_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw47_both_end, position_in_consist_from_end){
  0..22: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw47_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw47_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw47_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw47, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw47_both;
  rail_medium1_powered_draw47_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw48_both_end, position_in_consist_from_end){
  0..23: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw48_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw48_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw48_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw48, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw48_both;
  rail_medium1_powered_draw48_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw49_both_end, position_in_consist_from_end){
  0..23: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw49_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw49_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw49_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw49, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw49_both;
  rail_medium1_powered_draw49_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw50_both_end, position_in_consist_from_end){
  0..24: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw50_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw50_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw50_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw50, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw50_both;
  rail_medium1_powered_draw50_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw51_both_end, position_in_consist_from_end){
  0..24: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw51_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw51_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw51_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw51, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw51_both;
  rail_medium1_powered_draw51_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw52_both_end, position_in_consist_from_end){
  0..25: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw52_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw52_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw52_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw52, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw52_both;
  rail_medium1_powered_draw52_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw53_both_end, position_in_consist_from_end){
  0..25: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw53_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw53_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw53_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw53, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw53_both;
  rail_medium1_powered_draw53_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw54_both_end, position_in_consist_from_end){
  0..26: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw54_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw54_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw54_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw54, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw54_both;
  rail_medium1_powered_draw54_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw55_both_end, position_in_consist_from_end){
  0..26: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw55_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw55_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw55_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw55, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw55_both;
  rail_medium1_powered_draw55_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw56_both_end, position_in_consist_from_end){
  0..27: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw56_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw56_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw56_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw56, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw56_both;
  rail_medium1_powered_draw56_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw57_both_end, position_in_consist_from_end){
  0..27: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw57_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw57_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw57_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw57, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw57_both;
  rail_medium1_powered_draw57_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw58_both_end, position_in_consist_from_end){
  0..28: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw58_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw58_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw58_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw58, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw58_both;
  rail_medium1_powered_draw58_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw59_both_end, position_in_consist_from_end){
  0..28: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw59_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw59_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw59_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  58: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw59, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw59_both;
  rail_medium1_powered_draw59_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw60_both_end, position_in_consist_from_end){
  0..29: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw60_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw60_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw60_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  58: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  59: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw60, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw60_both;
  rail_medium1_powered_draw60_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw61_both_end, position_in_consist_from_end){
  0..29: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw61_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw61_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw61_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  58: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  59: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  60: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw61, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw61_both;
  rail_medium1_powered_draw61_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw62_both_end, position_in_consist_from_end){
  0..30: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw62_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw62_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw62_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  58: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  59: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  60: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  61: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw62, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw62_both;
  rail_medium1_powered_draw62_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw63_both_end, position_in_consist_from_end){
  0..30: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw63_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw63_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw63_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  58: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  59: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  60: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  61: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  62: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw63, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw63_both;
  rail_medium1_powered_draw63_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw64_both_end, position_in_consist_from_end){
  0..31: VISUAL_EFFECT_DISABLE;
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw64_both, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  rail_medium1_powered_draw64_both_end;
}
switch(FEAT_TRAINS, SELF, rail_medium1_powered_draw64_front, position_in_consist){
  0: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  1: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  2: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  3: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  4: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  5: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  6: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  7: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  8: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  9: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  10: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  11: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  12: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  13: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  14: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  15: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  16: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  17: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  18: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  19: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  20: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  21: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  22: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  23: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  24: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  25: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  26: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  27: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  28: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  29: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  30: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  31: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  32: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  33: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  34: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  35: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  36: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  37: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  38: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  39: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  40: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  41: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  42: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  43: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  44: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  45: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  46: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  47: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  48: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  49: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  50: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  51: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  52: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  53: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  54: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  55: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  56: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  57: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  58: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  59: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  60: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  61: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  62: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  63: visual_effect_and_powered(VISUAL_EFFECT_DEFAULT,  0, DISABLE_WAGON_POWER);
  VISUAL_EFFECT_DISABLE;
}
switch(FEAT_TRAINS, PARENT, rail_medium1_powered_draw64, [
  STORE_TEMP(position_in_consist_from_end, 0x10F), var[0x61, 0, 0xFFFF, 0xC6]
  ]){
  31: rail_medium1_powered_draw64_both;
  rail_medium1_powered_draw64_front;
  }
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
//--------------------------------------------------------------------------------------------------------------------------------
switch(FEAT_TRAINS, PARENT, rail_medium1_powered,
  count_veh_id(31) ){
  0..4: rail_medium1_powered_draw1;
  5..8: rail_medium1_powered_draw2;
  9..12: rail_medium1_powered_draw3;
  13..16: rail_medium1_powered_draw4;
  17..20: rail_medium1_powered_draw5;
  21..24: rail_medium1_powered_draw6;
  25..28: rail_medium1_powered_draw7;
  29..32: rail_medium1_powered_draw8;
  33..36: rail_medium1_powered_draw9;
  37..40: rail_medium1_powered_draw10;
  41..44: rail_medium1_powered_draw11;
  45..48: rail_medium1_powered_draw12;
  49..52: rail_medium1_powered_draw13;
  53..56: rail_medium1_powered_draw14;
  57..60: rail_medium1_powered_draw15;
  61..64: rail_medium1_powered_draw16;
  65..68: rail_medium1_powered_draw17;
  69..72: rail_medium1_powered_draw18;
  73..76: rail_medium1_powered_draw19;
  77..80: rail_medium1_powered_draw20;
  81..84: rail_medium1_powered_draw21;
  85..88: rail_medium1_powered_draw22;
  89..92: rail_medium1_powered_draw23;
  93..96: rail_medium1_powered_draw24;
  97..100: rail_medium1_powered_draw25;
  101..104: rail_medium1_powered_draw26;
  105..108: rail_medium1_powered_draw27;
  109..112: rail_medium1_powered_draw28;
  113..116: rail_medium1_powered_draw29;
  117..120: rail_medium1_powered_draw30;
  121..124: rail_medium1_powered_draw31;
  125..128: rail_medium1_powered_draw32;
  129..132: rail_medium1_powered_draw33;
  133..136: rail_medium1_powered_draw34;
  137..140: rail_medium1_powered_draw35;
  141..144: rail_medium1_powered_draw36;
  145..148: rail_medium1_powered_draw37;
  149..152: rail_medium1_powered_draw38;
  153..156: rail_medium1_powered_draw39;
  157..160: rail_medium1_powered_draw40;
  161..164: rail_medium1_powered_draw41;
  165..168: rail_medium1_powered_draw42;
  169..172: rail_medium1_powered_draw43;
  173..176: rail_medium1_powered_draw44;
  177..180: rail_medium1_powered_draw45;
  181..184: rail_medium1_powered_draw46;
  185..188: rail_medium1_powered_draw47;
  189..192: rail_medium1_powered_draw48;
  193..196: rail_medium1_powered_draw49;
  197..200: rail_medium1_powered_draw50;
  201..204: rail_medium1_powered_draw51;
  205..208: rail_medium1_powered_draw52;
  209..212: rail_medium1_powered_draw53;
  213..216: rail_medium1_powered_draw54;
  217..220: rail_medium1_powered_draw55;
  221..224: rail_medium1_powered_draw56;
  225..228: rail_medium1_powered_draw57;
  229..232: rail_medium1_powered_draw58;
  233..236: rail_medium1_powered_draw59;
  237..240: rail_medium1_powered_draw60;
  241..244: rail_medium1_powered_draw61;
  245..248: rail_medium1_powered_draw62;
  249..252: rail_medium1_powered_draw63;
  253..256: rail_medium1_powered_draw64;
  rail_medium1_powered_draw64;
}